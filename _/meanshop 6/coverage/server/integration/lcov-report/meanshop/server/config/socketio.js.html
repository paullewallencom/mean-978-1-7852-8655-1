<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for meanshop/server/config/socketio.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">meanshop/server/config/socketio.js</span></h1>
    <h2>
        Statements: <span class="metric">31.25% <small>(5 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">16.67% <small>(1 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">31.25% <small>(5 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">meanshop/server/config/</a> &#187; socketio.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Socket.io configuration
 */
&nbsp;
'use strict';
&nbsp;
var config = require('./environment');
&nbsp;
// When the user disconnects.. perform this
<span class="fstat-no" title="function not covered" >function onDisconnect(socket) {</span>}
&nbsp;
// When the user connects.. perform this
<span class="fstat-no" title="function not covered" >function onConnect(socket) {</span>
  // When the client emits 'info', this listens and executes
<span class="cstat-no" title="statement not covered" >  socket.on('info', <span class="fstat-no" title="function not covered" >function (data) {</span></span>
<span class="cstat-no" title="statement not covered" >    console.info('[%s] %s', socket.address, JSON.stringify(data, null, 2));</span>
  });
&nbsp;
  // Insert sockets below
<span class="cstat-no" title="statement not covered" >  require('../api/product/product.socket').register(socket);</span>
<span class="cstat-no" title="statement not covered" >  require('../api/thing/thing.socket').register(socket);</span>
}
&nbsp;
module.exports = function (socketio) {
  // socket.io (v1.x.x) is powered by debug.
  // In order to see all the debug output, set DEBUG (in server/config/local.env.js) to including the desired scope.
  //
  // ex: DEBUG: "http*,socket.io:socket"
&nbsp;
  // We can authenticate socket.io users and access their token through socket.decoded_token
  //
  // 1. You will need to send the token in `client/components/socket/socket.service.js`
  //
  // 2. Require authentication here:
  // socketio.use(require('socketio-jwt').authorize({
  //   secret: config.secrets.session,
  //   handshake: true
  // }));
&nbsp;
  socketio.on('connection', <span class="fstat-no" title="function not covered" >function (socket) {</span>
<span class="cstat-no" title="statement not covered" >    socket.address = socket.request.connection.remoteAddress + ':' + socket.request.connection.remotePort;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    socket.connectedAt = new Date();</span>
&nbsp;
    // Call onDisconnect.
<span class="cstat-no" title="statement not covered" >    socket.on('disconnect', <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >      onDisconnect(socket);</span>
<span class="cstat-no" title="statement not covered" >      console.info('[%s] DISCONNECTED', socket.address);</span>
    });
&nbsp;
    // Call onConnect.
<span class="cstat-no" title="statement not covered" >    onConnect(socket);</span>
<span class="cstat-no" title="statement not covered" >    console.info('[%s] CONNECTED', socket.address);</span>
  });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hZHJpYW4vY29kZS9tZWFuc2hvcC9zZXJ2ZXIvY29uZmlnL3NvY2tldGlvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFJQSxZQUFZLENBQUM7O0FBRWIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDOzs7QUFHdEMsU0FBUyxZQUFZLENBQUMsTUFBTSxFQUFFLEVBQzdCOzs7QUFHRCxTQUFTLFNBQVMsQ0FBQyxNQUFNLEVBQUU7O0FBRXpCLFFBQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLFVBQVMsSUFBSSxFQUFFO0FBQy9CLFdBQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDeEUsQ0FBQyxDQUFDOzs7QUFHSCxTQUFPLENBQUMsK0JBQStCLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDMUQsU0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0NBQ3ZEOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBUyxRQUFRLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQmxDLFVBQVEsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQ3pDLFVBQU0sQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsYUFBYSxHQUN0RCxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDOztBQUU3QyxVQUFNLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7OztBQUdoQyxVQUFNLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxZQUFXO0FBQ2pDLGtCQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDckIsYUFBTyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDbkQsQ0FBQyxDQUFDOzs7QUFHSCxhQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDbEIsV0FBTyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDaEQsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvYWRyaWFuL2NvZGUvbWVhbnNob3Avc2VydmVyL2NvbmZpZy9zb2NrZXRpby5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU29ja2V0LmlvIGNvbmZpZ3VyYXRpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBjb25maWcgPSByZXF1aXJlKCcuL2Vudmlyb25tZW50Jyk7XG5cbi8vIFdoZW4gdGhlIHVzZXIgZGlzY29ubmVjdHMuLiBwZXJmb3JtIHRoaXNcbmZ1bmN0aW9uIG9uRGlzY29ubmVjdChzb2NrZXQpIHtcbn1cblxuLy8gV2hlbiB0aGUgdXNlciBjb25uZWN0cy4uIHBlcmZvcm0gdGhpc1xuZnVuY3Rpb24gb25Db25uZWN0KHNvY2tldCkge1xuICAvLyBXaGVuIHRoZSBjbGllbnQgZW1pdHMgJ2luZm8nLCB0aGlzIGxpc3RlbnMgYW5kIGV4ZWN1dGVzXG4gIHNvY2tldC5vbignaW5mbycsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBjb25zb2xlLmluZm8oJ1slc10gJXMnLCBzb2NrZXQuYWRkcmVzcywgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xuICB9KTtcblxuICAvLyBJbnNlcnQgc29ja2V0cyBiZWxvd1xuICByZXF1aXJlKCcuLi9hcGkvcHJvZHVjdC9wcm9kdWN0LnNvY2tldCcpLnJlZ2lzdGVyKHNvY2tldCk7XG4gIHJlcXVpcmUoJy4uL2FwaS90aGluZy90aGluZy5zb2NrZXQnKS5yZWdpc3Rlcihzb2NrZXQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNvY2tldGlvKSB7XG4gIC8vIHNvY2tldC5pbyAodjEueC54KSBpcyBwb3dlcmVkIGJ5IGRlYnVnLlxuICAvLyBJbiBvcmRlciB0byBzZWUgYWxsIHRoZSBkZWJ1ZyBvdXRwdXQsIHNldCBERUJVRyAoaW4gc2VydmVyL2NvbmZpZy9sb2NhbC5lbnYuanMpIHRvIGluY2x1ZGluZyB0aGUgZGVzaXJlZCBzY29wZS5cbiAgLy9cbiAgLy8gZXg6IERFQlVHOiBcImh0dHAqLHNvY2tldC5pbzpzb2NrZXRcIlxuXG4gIC8vIFdlIGNhbiBhdXRoZW50aWNhdGUgc29ja2V0LmlvIHVzZXJzIGFuZCBhY2Nlc3MgdGhlaXIgdG9rZW4gdGhyb3VnaCBzb2NrZXQuZGVjb2RlZF90b2tlblxuICAvL1xuICAvLyAxLiBZb3Ugd2lsbCBuZWVkIHRvIHNlbmQgdGhlIHRva2VuIGluIGBjbGllbnQvY29tcG9uZW50cy9zb2NrZXQvc29ja2V0LnNlcnZpY2UuanNgXG4gIC8vXG4gIC8vIDIuIFJlcXVpcmUgYXV0aGVudGljYXRpb24gaGVyZTpcbiAgLy8gc29ja2V0aW8udXNlKHJlcXVpcmUoJ3NvY2tldGlvLWp3dCcpLmF1dGhvcml6ZSh7XG4gIC8vICAgc2VjcmV0OiBjb25maWcuc2VjcmV0cy5zZXNzaW9uLFxuICAvLyAgIGhhbmRzaGFrZTogdHJ1ZVxuICAvLyB9KSk7XG5cbiAgc29ja2V0aW8ub24oJ2Nvbm5lY3Rpb24nLCBmdW5jdGlvbihzb2NrZXQpIHtcbiAgICBzb2NrZXQuYWRkcmVzcyA9IHNvY2tldC5yZXF1ZXN0LmNvbm5lY3Rpb24ucmVtb3RlQWRkcmVzcyArXG4gICAgICAnOicgKyBzb2NrZXQucmVxdWVzdC5jb25uZWN0aW9uLnJlbW90ZVBvcnQ7XG5cbiAgICBzb2NrZXQuY29ubmVjdGVkQXQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgLy8gQ2FsbCBvbkRpc2Nvbm5lY3QuXG4gICAgc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICBvbkRpc2Nvbm5lY3Qoc29ja2V0KTtcbiAgICAgIGNvbnNvbGUuaW5mbygnWyVzXSBESVNDT05ORUNURUQnLCBzb2NrZXQuYWRkcmVzcyk7XG4gICAgfSk7XG5cbiAgICAvLyBDYWxsIG9uQ29ubmVjdC5cbiAgICBvbkNvbm5lY3Qoc29ja2V0KTtcbiAgICBjb25zb2xlLmluZm8oJ1slc10gQ09OTkVDVEVEJywgc29ja2V0LmFkZHJlc3MpO1xuICB9KTtcbn07XG4iXX0=</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Aug 27 2015 23:38:07 GMT-0400 (AST)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
